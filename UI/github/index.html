
<html>

      <div id="loginpage"> // login page
        <head>
          <meta charset="UTF-8">
          <script type="text/javascript" src="assets/pages.js"></script>
          <link rel="stylesheet" href="assets/style.css"/>
        </head>
        <body1>
          <div class="wrapper1">
          <div class="container1">
            <h1>Welcome</h1>
            <form class="form"  >
              <input type="text" id="field1" name="field1" placeholder="Username" />
              <input type="submit" value="Login as User" name="login" id="loginbutton1" onclick="return show1('videopage','loginpage','graphdiv2','graphp');"></input>
              <input type="submit" value="Login as Provider" name="login" id="loginbutton" onclick="return show1('videopage','loginpage','loginpage','loginpage');"></input>
            </form>

          </div>
            <ul class="bg-bubbles">
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
            </ul>
          </div>
          <script src="assets/index.js"></script>
        </body1>
      </div>





      <div id="videopage" style="display:none"> // Video page
        <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="keywords" content="" />
        <meta name="description" content="" />
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript" src="assets/dropdown.js"></script>
        <script type="text/javascript" src="assets/json.js"></script>
        <script type="text/javascript" src="assets/graph.js"></script>
        <script type="text/javascript" src="assets/pages.js"></script>
        <script type="text/javascript" src="assets/youtube.js"></script>
        <!-- <script type="text/javascript" src="webgazer.js"></script> -->
        <script type="text/javascript" src="assets/takephoto.js"></script>
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700|Archivo+Narrow:400,700" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="assets/default.css" type="text/css" media="all" />
        <link rel="stylesheet" src="assets/graph.css" type="text/css" media="all" />
        <link rel="stylesheet" href="assets/button.css" type="text/css" media="all" />
        <link rel="stylesheet" href="assets/dropdown.css" type="text/css" media="all" />
      </head>
        <body>
          <script type="text/php">
          php include('CORS1.php');
          </script>

          <h2>Hello! Alpha version 0.2.1</h2>
        <div id="logo" class="container">
        	<h1><a href="#">Emotional Engagement</a></h1>
        </div>
        <div id="menu-wrapper">
        	<div id="menu" class="container">
        		<ul>
<!--        			<li><a href="indexlog.html">Homepage</a></li>
        			<li class="current_page_item"><a href="Video.html">Video</a></li>
        			<li><a href="Graph.html">Garphical Result</a></li> -->
              <li><a onclick="return show1('homepage','videopage','videopage','videopage');">HOMEPAGE</a></li>
              <li><a class="current_page_item">VIDEO</a></li>
              <li><a id="graphp" onclick="return show1('graphpage','videopage','videopage','videopage');">GRAPHICAL RESULT</a></li>


        		</ul>
        	</div>
        </div>
        <div id="page" class="container">
        	<div id="box1">
        		<!-- <h2 class="title"><a href="#">Choose a video you like.</a></h2> -->
            <h2 class="title"><a>In order to use it, you have to click the shield icon above <br/> and click load unsafe script. It is fine.
              <br/>
            To send your data to the server, you can either click another video <br/> or pull the time bar to finish the video.</a></h2>
          </br>
            <div style="clear: both;">&nbsp;</div>
        		<div class="entry">
              <div class="dropdown">
                <button class="dropbtn" onclick="myFunction()">Video List</button>
                <div id="myDropdown" class="dropdown-content">
                  <input type="text" placeholder="Search Video Here" id="myInput" onkeyup="filterFunction()"></input>
                  <a id="video1" onclick="vid1()">Lec 1 MIT 18.06 Linear Algebra Spring 2005</a>
                  <a id="video2" onclick="vid2()">Lecture 01 - The Learning Problem</a>
                  <a id="video3" onclick="vid3()">Lec 1 MIT 18.086 Mathematical Methods for Engineers II</a>
                  <a id="video4" onclick="vid4()">Big Picture: Derivatives</a>
                  <a id="video5" onclick="vid5()">The Exponential Function</a>
                  <a id="video6" onclick="vid6()">What is Philosophy?: Crash Course Philosophy #1</a>
                  <a id="video7" onclick="vid7()">Determinism vs Free Will: Crash Course Philosophy #24</a>
                  <a id="video8" onclick="vid8()">What Is Justice?: Crash Course Philosophy #40</a>
                  <a id="video9" onclick="vid9()">Photosynthesis: Crash Course Biology #8</a>
                  <a id="video10" onclick="vid10()">Human Evolution: Crash Course Big History #6</a>
                  <a id="video11" onclick="vid11()">The Big Bang: Crash Course Big History #1</a>
                  <a id="video12" onclick="vid12()">Exploring the Universe: Crash Course Big History #2</a>
                  <a id="video13" onclick="vid13()">Programming Basics: Statements and Functions: Crash Course Computer Science #12</a>
                  <a id="video14" onclick="vid14()">Intro to Algorithms: Crash Course Computer Science #13</a>
                  <a id="video15" onclick="vid15()">Quantum Mechanics - Part 1: Crash Course Physics #43</a>
                  <a id="video16" onclick="vid16()">Stop Waiting for Life to Happen | Peter Sage | TED Talks</a>
                  <a id="video17" onclick="vid17()">Bill Gates 7 Rules of Success | Microsoft Founder | Entrepreneur | Motivational Speech</a>
                  <a id="video18" onclick="vid18()">Time Travel: Einstein's big idea (Theory of Relativity)</a>
                  <a id="video19" onclick="vid19()">Michio Kaku: The Universe in a Nutshell</a>
                  <a id="video20" onclick="vid20()">Einstein's Theory Of Relativity Made Easy</a>
                  <a id="video21" onclick="vid21()">Semiconductor introduction</a>
                  <a id="video22" onclick="vid22()">Signal-to-Noise Ratio</a>
                  <a id="video23" onclick="vid23()">How To Make A Web App In 7 Minutes</a>
                  <a id="video24" onclick="vid24()">1. Introduction and Basic Concepts</a>
                  <a id="video25" onclick="vid25()">EEVblog #600 - OpAmps Tutorial - What is an Operational Amplifier?</a>
                  <a id="video26" onclick="vid26()">JavaScript Fundamentals For Beginners</a>
                  <a id="video27" onclick="vid27()">Raspberry Pi Robotics #1: GPIO Control</a>
                  <a id="video28" onclick="vid28()">How to Perform CPR video</a>
                  <a id="video29" onclick="vid29()">4. Divide and Conquer: van Emde Boas Trees</a>
                  <a id="video30" onclick="vid30()">10. Dynamic Programming: Advanced DP</a>
                  <a id="video31" onclick="vid31()">12. Greedy Algorithms: Minimum Spanning Tree</a>
                  <a id="video32" onclick="vid32()">21. Cryptography: Hash Functions</a>
                  <a id="video33" onclick="vid33()">Evidence of a Ninth Planet</a>
                  <a id="video34" onclick="vid34()">Introductory Astronomy: Parallax the Parsec and Distances</a>
                  <a id="video35" onclick="vid35()">Boaz Almog levitates a superconductor</a>


                <!-- <button id=video1 class="button" onclick="vid1()">Video1</button>
                <button id=video2 class="button" onclick="vid2()">Video2</button>
                <button id=video3 class="button" onclick="vid3()">Video3</button>
                <button id=video4 class="button" onclick="vid4()">Video4</button>
                <button id=video5 class="button" onclick="vid5()">Video5</button> -->
              </div>
            </div>
              <br/>
              <br/>
              <br/>

            <div id="player"></div>
            <div class="camera">
              <video id="video" hidden>Video stream not available.</video>
            </div>
            <p>
            	<br/>
            	<font size="5">How engaged are you?
            </p>
    <!--     <script language="JavaScript">
              function processForm()
              {
                var parameters = location.search.substring(1).split("&");
                var temp = parameters[0].split("=");
                user = unescape(temp[1]);

              }
              processForm();
            </script>-->
            <br/>
            <button class="button" id=objButton1 value="1">Unengaged</button>
            <button class="button" id=objButton2 value="2">Slightly Unengaged</button>
            <button class="button" id=objButton3 value="3">Neutral</button>
            <button class="button" id=objButton4 value="4">Slightly Engaged</button>
            <button class="button" id=objButton5 value="5">Engaged</button>
            <br/>
            <br/>
            <script type="text/javascript">
            window.onbeforeunload=function(){
                // dict.push(
                //           {
                //               username:user.value,
                //               movieId:vid,
                //               time:player.getCurrentTime(),
                //               videocompletion:player.getCurrentTime() / player.getDuration(),
                //           }
                //         );
              //leavepage();
              //console.log("function alrt WORKS !!!!");
              //window.alert("closing now.....");
              str = JSON.stringify(dict, null, 4);
              console.log(str); // Logs output to dev tools console.
              $.ajax({
                  async : false,
                  url: "http://projectemotion.azurewebsites.net/",
                  type: "POST",
                  data: str,
                  dataType: "json",
                  timeout: 10000,
                  success: function (result) {
                      switch (result) {
                          case true:
                              processResponse(result);
                              break;
                          default:
                              resultDiv.html(result);
                      }
                  },
                  error: function (xhr, ajaxOptions, thrownError) {
                  alert(xhr.status);
                  }
              });
              return "leave";

            }
            // function leavepage(){
            //   dict.push(
            //             {
            //                 username:user.value,
            //                 movieId:vid,
            //                 time:player.getCurrentTime(),
            //                 videocompletion:player.getCurrentTime() / player.getDuration(),
            //             }
            //           );
            //   str = JSON.stringify(dict, null, 4);
            //     console.log(str); // Logs output to dev tools console.
            //
            //     $.post("http://projectemotion.azurewebsites.net/",
            //           str,
            //           function(data, textStatus, jqXHR)
            //           {
            //             async: false
            //               dict = [];
            //               alert(textStatus);
            //               alert(data);
            //           }).fail(function(jqXHR, textStatus, errorThrown)
            //           {
            //
            //               //alert(jqXHR);
            //               dict = [];
            //               alert(textStatus);
            //               //alert(errorThrown);
            //           });
            //   }
            </script>
            <br/>
            <canvas id="canvas"></canvas>
            <br/>
            <br/>
            <br/>
            <div id="graphdiv2" style="width:500px; height:300px;"></div>
            <script type="text/javascript">
              g2 = new Dygraph(
                document.getElementById("graphdiv2"),
                "Time, Engagement Level\n" + dataAcc        // options
              );
            </script>
        		<br/>
        	</div>
        	</div>
        </div>
        </body>
        <!-- Footer -->
          <footer id="footer">
            <div class="inner">
              <div class="flex">
                <div class="copyright">
                  &copy; Imperial College Electrical and Electronic Department 2017
                </div>
                <ul class="icons">
                  <li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
                  <li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
                  <li><a href="#" class="icon fa-linkedin"><span class="label">linkedIn</span></a></li>
                  <li><a href="#" class="icon fa-pinterest-p"><span class="label">Pinterest</span></a></li>
                  <li><a href="#" class="icon fa-vimeo"><span class="label">Vimeo</span></a></li>
                </ul>
              </div>
            </div>
          </footer>
        </div>

      </div>


      <div id="homepage" style="display:none">
      <body>
        <h2>Hello!</h2>
      <div id="logo" class="container">
        <h1><a href="#">Emotional Engagement</a></h1>
      </div>
      <div id="menu-wrapper">
        <div id="menu" class="container">
          <ul>
            <li><a class="current_page_item">HOMEPAGE</a></li>
            <li><a onclick="return show1('videopage','homepage','homepage','homepage');">VIDEO</a></li>
            <li><a id="graphp" onclick="return show1('graphpage','homepage','homepage','homepage');">GRAPHICAL RESULT</a></li>
          </ul>
        </div>
      </div>
      <div id="page" class="container">
        <div id="box1">
          <h2>Welcome to the home page!</h2>
        </div>
      </div>
    </body>
    <!-- Footer -->
      <footer id="footer">
        <div class="inner">
          <div class="flex">
            <div class="copyright">
              &copy; Imperial College Electrical and Electronic Department 2017
            </div>
            <ul class="icons">
              <li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
              <li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
              <li><a href="#" class="icon fa-linkedin"><span class="label">linkedIn</span></a></li>
              <li><a href="#" class="icon fa-pinterest-p"><span class="label">Pinterest</span></a></li>
              <li><a href="#" class="icon fa-vimeo"><span class="label">Vimeo</span></a></li>
            </ul>
          </div>
        </div>
      </footer>
    </div>

    </div>

    <div id="graphpage" style="display:none">
      <body>
        <h2>Hello!</h2>
      <div id="logo" class="container">
        <h1><a href="#">Emotional Engagement</a></h1>
      </div>
      <div id="menu-wrapper">
        <div id="menu" class="container">
          <ul>
            <li><a onclick="return show1('homepage','graphpage','graphpage','graphpage');">HOMEPAGE</a></li>
            <li><a onclick="return show1('videopage','graphpage','graphpage','graphpage');">VIDEO</a></li>
            <li><a class="current_page_item">GRAPHICAL RESULT</a></li>
          </ul>
        </div>
      </div>
      <div id="page" class="container">
        <div id="box1">
          <h2>Welcome to the result page!</h2>
        </div>
      </div>
    </body>
    <!-- Footer -->
      <footer id="footer">
        <div class="inner">
          <div class="flex">
            <div class="copyright">
              &copy; Imperial College Electrical and Electronic Department 2017
            </div>
            <ul class="icons">
              <li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
              <li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
              <li><a href="#" class="icon fa-linkedin"><span class="label">linkedIn</span></a></li>
              <li><a href="#" class="icon fa-pinterest-p"><span class="label">Pinterest</span></a></li>
              <li><a href="#" class="icon fa-vimeo"><span class="label">Vimeo</span></a></li>
            </ul>
          </div>
        </div>
      </footer>
    </div>

    </div>
</html>

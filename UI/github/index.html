
<html>

      <div id="loginpage">
        <head>
          <meta charset="UTF-8">
          <script type="text/javascript" src="assets/pages.js"></script>
          <link rel="stylesheet" href="assets/style.css"/>
        </head>
        <body1>
          <div class="wrapper1">
          <div class="container1">
            <h1>Welcome!</h1>
            <h2 class="title">Important: click the shield above on the URL and choose "load unsafe script" , it will allow the data to be sent to the server. <img src="assets/load.png"> <br/>This app does not work on phone at the moment, also if possible Google Chrome is preferred.</h2>

            <form class="form">
              <input type="text" id="field1" name="field1" placeholder="Username" onkeyup="checkinput()" />
              <input type="submit" value="Login as User" name="login" id="loginbutton1" onclick="return show1('videopage','loginpage','graphdiv2');"></input>
              <!-- <input type="submit" value="Login as Provider" name="login" id="loginbutton" onclick="return show1('videopage','loginpage','loginpage');"></input> -->
            </form>
            <p>Please log in as a user and remember to use the same username each time you want to access this platform.</p>
            <p>Username should be at least 3 characters or numbers.</p>

            <script language="JavaScript">
            window.addEventListener('load', checkinput());
            function checkinput(){
            if(document.getElementById("field1").value.length < 3){
              document.getElementById("loginbutton1").disabled = true;
              document.getElementById("loginbutton").disabled = true;
            }else if(document.getElementById("field1").value.length >= 3){
              document.getElementById("loginbutton1").disabled = false;
              document.getElementById("loginbutton").disabled = false;
            }
          }
            </script>

          </div>
            <ul class="bg-bubbles">
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
            </ul>
          </div>
          <script src="assets/index.js"></script>
        </body1>
      </div>





      <div id="videopage" style="display:none">
        <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="keywords" content="" />
        <meta name="description" content="" />
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript" src="assets/dropdown.js"></script>
        <!-- <script type="text/javascript" src="assets/ajax1.js"></script> -->
        <script type="text/javascript" src="assets/json.js"></script>
        <script type="text/javascript" src="assets/graph.js"></script>
        <script type="text/javascript" src="assets/pages.js"></script>
        <script type="text/javascript" src="assets/youtube.js"></script>
        <script type="text/javascript" src="assets/veds.js"></script>
        <!-- <script type="text/javascript" src="webgazer.js"></script> -->
        <script type="text/javascript" src="assets/takephoto.js"></script>
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700|Archivo+Narrow:400,700" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="assets/default.css" type="text/css" media="all" />
        <link rel="stylesheet" src="assets/graph.css" type="text/css" media="all" />
        <!-- <link rel="stylesheet" src="assets/googlefonts.css" type="text/css" media="all" /> -->
        <link rel="stylesheet" href="assets/button.css" type="text/css" media="all" />
        <link rel="stylesheet" href="assets/dropdown.css" type="text/css" media="all" />
      </head>
        <body>
          <script type="text/php">
          php include('CORS1.php');
          </script>

          <h2 id="title2">Hello!!</h2>
<!-- <script>document.write(document.getElementById('field1'));</script> -->
          <br/>
          <p>Alpha version 0.2.4</p>
        <div id="logo" class="container">
        	<h1><a href="#" style="text-transform:uppercase">Emotional Engagement</a></h1>
        </div>
        <div id="menu-wrapper">
        	<div id="menu" class="container">
        		<ul>
              <!-- <li><a onclick="return show1('homepage','videopage','videopage','videopage');">HOMEPAGE</a></li> -->
              <li><a class="current_page_item">VIDEO</a></li>
              <!-- <li><a id="graphp" onclick="return show1('graphpage','videopage','videopage','videopage');">GRAPHICAL RESULT</a></li> -->
        		</ul>
        	</div>
        </div>
        <div id="page" class="container">
        	<div id="box1">
        		<!-- <h2 class="title"><a href="#">Choose a video you like.</a></h2> -->
            <h2 class="title">Welcome!!</h2>
            <h2 class="title">Important: click the shield above on the URL and choose "load unsafe script" <br/> <img src="assets/load.png">,<br/> it will allow the data to be sent to the server.<br/>This app does not work on phone at the moment, if possible Google Chrome is preferred.</h2>
            <p>Hi and thanks for helping us with our project!<br/> Choose any of the videos we have available on our platform and watch them.<br/> As you watch, please rate the videos at different times in the video depending on your engagement levels.<br/> Do this as many times as you think is necessary. Also, please do not have the window where the platform is running on fullscreen.<br/> Please make sure you are in an environment where you are not facing any distractions.<br/> The more videos you are able to watch and rate the better!</p>
          <div class="dropdown">
            <button class="dropbtn" onclick="myFunction()">Video List</button>
            <div id="myDropdown" class="dropdown-content">
              <input type="text" placeholder="Search Video Here" id="myInput" onkeyup="filterFunction()"></input>
              <a id="video0" value = '0'onclick="vid1('0')"><script>document.write(videosIDname[0])</script></a>
              <a id="video1" value = '1' onclick="vid1('1')"><script>document.write(videosIDname[1])</script></a>
              <a id="video2" value = '2' onclick="vid1('2')"><script>document.write(videosIDname[2])</script></a>
              <a id="video3" value = '3' onclick="vid1('3')"><script>document.write(videosIDname[3])</script></a>
              <a id="video4" value = '4' onclick="vid1('4')"><script>document.write(videosIDname[4])</script></a>
              <a id="video5" value = '5' onclick="vid1('5')"><script>document.write(videosIDname[5])</script></a>
              <a id="video6" value = '6' onclick="vid1('6')"><script>document.write(videosIDname[6])</script></a>
              <a id="video7" value = '7' onclick="vid1('7')"><script>document.write(videosIDname[7])</script></a>
              <a id="video8" value = '8' onclick="vid1('8')"><script>document.write(videosIDname[8])</script></a>
              <a id="video9" value = '9' onclick="vid1('9')"><script>document.write(videosIDname[9])</script></a>
              <a id="video10" value = '10' onclick="vid1('10')"><script>document.write(videosIDname[10])</script></a>
              <a id="video11" value = '11' onclick="vid1('11')"><script>document.write(videosIDname[11])</script></a>
              <a id="video12" value = '12' onclick="vid1('12')"><script>document.write(videosIDname[12])</script></a>
              <a id="video13" value = '13' onclick="vid1('13')"><script>document.write(videosIDname[13])</script></a>
              <a id="video14" value = '14' onclick="vid1('14')"><script>document.write(videosIDname[14])</script></a>
              <a id="video15" value = '15' onclick="vid1('15')"><script>document.write(videosIDname[15])</script></a>
              <a id="video16" value = '16' onclick="vid1('16')"><script>document.write(videosIDname[16])</script></a>
              <a id="video17" value = '17' onclick="vid1('17')"><script>document.write(videosIDname[17])</script></a>
              <a id="video18" value = '18' onclick="vid1('18')"><script>document.write(videosIDname[18])</script></a>
              <a id="video19" value = '19' onclick="vid1('19')"><script>document.write(videosIDname[19])</script></a>
              <a id="video20" value = '20' onclick="vid1('20')"><script>document.write(videosIDname[20])</script></a>
              <a id="video21" value = '21' onclick="vid1('21')"><script>document.write(videosIDname[21])</script></a>
              <a id="video22" value = '22' onclick="vid1('22')"><script>document.write(videosIDname[22])</script></a>
              <a id="video23" value = '23' onclick="vid1('23')"><script>document.write(videosIDname[23])</script></a>
              <a id="video24" value = '24' onclick="vid1('24')"><script>document.write(videosIDname[24])</script></a>
              <a id="video25" value = '25' onclick="vid1('25')"><script>document.write(videosIDname[25])</script></a>
              <a id="video26" value = '26' onclick="vid1('26')"><script>document.write(videosIDname[26])</script></a>
              <a id="video27" value = '27' onclick="vid1('27')"><script>document.write(videosIDname[27])</script></a>
              <a id="video28" value = '28' onclick="vid1('28')"><script>document.write(videosIDname[28])</script></a>
              <a id="video29" value = '29' onclick="vid1('29')"><script>document.write(videosIDname[29])</script></a>
              <a id="video30" value = '30' onclick="vid1('30')"><script>document.write(videosIDname[30])</script></a>
              <a id="video31" value = '31' onclick="vid1('31')"><script>document.write(videosIDname[31])</script></a>is
              <a id="video32" value = '32' onclick="vid1('32')"><script>document.write(videosIDname[32])</script></a>
              <a id="video33" value = '33' onclick="vid1('33')"><script>document.write(videosIDname[33])</script></a>
              <a id="video34" value = '34' onclick="vid1('34')"><script>document.write(videosIDname[34])</script></a>
              <!-- <a id="video1" onclick="vid1()">Lec 1 MIT 18.06 Linear Algebra Spring 2005</a>
              <a id="video2" onclick="vid2()">Lecture 01 - The Learning Problem</a>
              <a id="video3" onclick="vid3()">Lec 1 MIT 18.086 Mathematical Methods for Engineers II</a>
              <a id="video4" onclick="vid4()">Big Picture: Derivatives</a>
              <a id="video5" onclick="vid5()">The Exponential Function</a>
              <a id="video6" onclick="vid6()">What is Philosophy?: Crash Course Philosophy #1</a>
              <a id="video7" onclick="vid7()">Determinism vs Free Will: Crash Course Philosophy #24</a>
              <a id="video8" onclick="vid8()">What Is Justice?: Crash Course Philosophy #40</a>
              <a id="video9" onclick="vid9()">Photosynthesis: Crash Course Biology #8</a>
              <a id="video10" onclick="vid10()">Human Evolution: Crash Course Big History #6</a>
              <a id="video11" onclick="vid11()">The Big Bang: Crash Course Big History #1</a>
              <a id="video12" onclick="vid12()">Exploring the Universe: Crash Course Big History #2</a>
              <a id="video13" onclick="vid13()">Programming Basics: Statements and Functions: Crash Course Computer Science #12</a>
              <a id="video14" onclick="vid14()">Intro to Algorithms: Crash Course Computer Science #13</a>
              <a id="video15" onclick="vid15()">Quantum Mechanics - Part 1: Crash Course Physics #43</a>
              <a id="video16" onclick="vid16()">Stop Waiting for Life to Happen | Peter Sage | TED Talks</a>
              <a id="video17" onclick="vid17()">Bill Gates 7 Rules of Success | Microsoft Founder | Entrepreneur | Motivational Speech</a>
              <a id="video18" onclick="vid18()">Time Travel: Einstein's big idea (Theory of Relativity)</a>
              <a id="video19" onclick="vid19()">Michio Kaku: The Universe in a Nutshell</a>
              <a id="video20" onclick="vid20()">Einstein's Theory Of Relativity Made Easy</a>
              <a id="video21" onclick="vid21()">Semiconductor introduction</a>
              <a id="video22" onclick="vid22()">Signal-to-Noise Ratio</a>
              <a id="video23" onclick="vid23()">How To Make A Web App In 7 Minutes</a>
              <a id="video24" onclick="vid24()">1. Introduction and Basic Concepts</a>
              <a id="video25" onclick="vid25()">EEVblog #600 - OpAmps Tutorial - What is an Operational Amplifier?</a>
              <a id="video26" onclick="vid26()">JavaScript Fundamentals For Beginners</a>
              <a id="video27" onclick="vid27()">Raspberry Pi Robotics #1: GPIO Control</a>
              <a id="video28" onclick="vid28()">How to Perform CPR video</a>
              <a id="video29" onclick="vid29()">4. Divide and Conquer: van Emde Boas Trees</a>
              <a id="video30" onclick="vid30()">10. Dynamic Programming: Advanced DP</a>
              <a id="video31" onclick="vid31()">12. Greedy Algorithms: Minimum Spanning Tree</a>
              <a id="video32" onclick="vid32()">21. Cryptography: Hash Functions</a>
              <a id="video33" onclick="vid33()">Evidence of a Ninth Planet</a>
              <a id="video34" onclick="vid34()">Introductory Astronomy: Parallax the Parsec and Distances</a>
              <a id="video35" onclick="vid35()">Boaz Almog levitates a superconductor</a> -->


            <!-- <button id=video1 class="button" onclick="vid1()">Video1</button>
            <button id=video2 class="button" onclick="vid2()">Video2</button>
            <button id=video3 class="button" onclick="vid3()">Video3</button>
            <button id=video4 class="button" onclick="vid4()">Video4</button>
            <button id=video5 class="button" onclick="vid5()">Video5</button> -->
          </div>
        </div>


            <div style="clear: both;">&nbsp;</div>
        		<div class="entry">
              <br/>
              <br/>
              <br/>

            <div id="player"></div>
            <div class="camera">
              <video id="video" hidden>Video stream not available.</video>
            </div>
            <p>
            	<br/>
            	<font size="5">How engaged are you?
            </p>
    <!--     <script language="JavaScript">
              function processForm()
              {
                var parameters = location.search.substring(1).split("&");
                var temp = parameters[0].split("=");
                user = unescape(temp[1]);

              }
              processForm();
            </script>-->
            <br/>
            <button class="button" id=objButton1 value="1">Unengaged</button>
            <button class="button" id=objButton2 value="2">Slightly Unengaged</button>
            <button class="button" id=objButton3 value="3">Neutral</button>
            <button class="button" id=objButton4 value="4">Slightly Engaged</button>
            <button class="button" id=objButton5 value="5">Engaged</button>
            <br/>
            <br/>
            Please be advised that photographs will be taken when Engagement buttons are pressed <br/>for use on the redcommendation service only.<br/> Your picture will not be saved or used on other purposes.
            <script type="text/javascript">
            window.onbeforeunload=function(){
                // dict.push(
                //           {
                //               username:user.value,
                //               movieId:vid,
                //               time:player.getCurrentTime(),
                //               videocompletion:player.getCurrentTime() / player.getDuration(),
                //           }
                //         );
              //leavepage();
              //console.log("function alrt WORKS !!!!");
              //window.alert("closing now.....");
              str = JSON.stringify(dict, null, 4);
              console.log(str); // Logs output to dev tools console.
              $.ajax({
                  async : false,
                  url: "http://projectemotion.azurewebsites.net/",
                  type: "POST",
                  data: str,
                  dataType: "json",
                  timeout: 10000,
                  success: function (result) {
                      switch (result) {
                          case true:
                              processResponse(result);
                              break;
                          default:
                              resultDiv.html(result);
                      }
                  },
                  error: function (xhr, ajaxOptions, thrownError) {
                  //alert(xhr.status);
                  }
              });
              return "leave";

            }
            // function leavepage(){
            //   dict.push(
            //             {
            //                 username:user.value,
            //                 movieId:vid,
            //                 time:player.getCurrentTime(),
            //                 videocompletion:player.getCurrentTime() / player.getDuration(),
            //             }
            //           );
            //   str = JSON.stringify(dict, null, 4);
            //     console.log(str); // Logs output to dev tools console.
            //
            //     $.post("http://projectemotion.azurewebsites.net/",
            //           str,
            //           function(data, textStatus, jqXHR)
            //           {
            //             async: false
            //               dict = [];
            //               alert(textStatus);
            //               alert(data);
            //           }).fail(function(jqXHR, textStatus, errorThrown)
            //           {
            //
            //               //alert(jqXHR);
            //               dict = [];
            //               alert(textStatus);
            //               //alert(errorThrown);
            //           });
            //   }
            </script>
            <br/>
            <canvas id="canvas" ></canvas>
            <br/>
            <br/>
            <br/>
            <div id="graphdiv2" style="width:500px; height:300px;"></div>
            <script type="text/javascript">
              g2 = new Dygraph(
                document.getElementById("graphdiv2"),
                "Time, Engagement Level\n" + dataAcc        // options
              );
            </script>
        		<br/>
        	</div>
        	</div>
        </div>
        </body>
        <!-- Footer -->
          <footer id="footer">
            <div class="inner">
              <div class="flex">
                <div class="copyright">
                  &copy; Imperial College Electrical and Electronic Department 2017
                </div>
                <ul class="icons">
                  <li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
                  <li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
                  <li><a href="#" class="icon fa-linkedin"><span class="label">linkedIn</span></a></li>
                  <li><a href="#" class="icon fa-pinterest-p"><span class="label">Pinterest</span></a></li>
                  <li><a href="#" class="icon fa-vimeo"><span class="label">Vimeo</span></a></li>
                </ul>
              </div>
            </div>
          </footer>
        </div>

    <!--  </div>


       <div id="homepage" style="display:none">
      <body>
        <h2>Hello!</h2>
      <div id="logo" class="container">
        <h1><a href="#">Emotional Engagement</a></h1>
      </div>
      <div id="menu-wrapper">
        <div id="menu" class="container">
          <ul>
            <li><a class="current_page_item">HOMEPAGE</a></li>
            <li><a onclick="return show1('videopage','homepage','homepage','homepage');">VIDEO</a></li>
            <li><a id="graphp" onclick="return show1('graphpage','homepage','homepage','homepage');">GRAPHICAL RESULT</a></li>
          </ul>
        </div>
      </div>
      <div id="page" class="container">
        <div id="box1">
          <h2>Welcome to the home page!</h2>
        </div>
      </div>
    </body>

      <footer id="footer">
        <div class="inner">
          <div class="flex">
            <div class="copyright">
              &copy; Imperial College Electrical and Electronic Department 2017
            </div>
            <ul class="icons">
              <li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
              <li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
              <li><a href="#" class="icon fa-linkedin"><span class="label">linkedIn</span></a></li>
              <li><a href="#" class="icon fa-pinterest-p"><span class="label">Pinterest</span></a></li>
              <li><a href="#" class="icon fa-vimeo"><span class="label">Vimeo</span></a></li>
            </ul>
          </div>
        </div>
      </footer>
    </div>

    </div> -->

    <!-- <div id="graphpage">
      <body>
        <h2>Hello!</h2>
      <div id="logo" class="container">
        <h1><a href="#" style="text-transform:uppercase">Emotional Engagement</a></h1>
      </div>
      <div id="menu-wrapper">aa
        <div id="menu" class="container">
          <ul>
             <li><a onclick="return show1('homepage','graphpage','graphpage','graphpage');">HOMEPAGE</a></li>
            <li><a onclick="return show1('videopage','graphpage','graphpage','graphpage');">VIDEO</a></li>
            <li><a class="current_page_item">GRAPHICAL RESULT</a></li>
          </ul>
        </div>
      </div>
      <div id="page" class="container">
        <div id="box1">
          <h2>Welcome to the result page!</h2>
        </div>
      </div>
    </body>

      <footer id="footer">
        <div class="inner">
          <div class="flex">
            <div class="copyright">
              &copy; Imperial College Electrical and Electronic Department 2017
            </div>
            <ul class="icons">
              <li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
              <li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
              <li><a href="#" class="icon fa-linkedin"><span class="label">linkedIn</span></a></li>
              <li><a href="#" class="icon fa-pinterest-p"><span class="label">Pinterest</span></a></li>
              <li><a href="#" class="icon fa-vimeo"><span class="label">Vimeo</span></a></li>
            </ul>
          </div>
        </div>
      </footer>
    </div>

  </div>-->
</html>
